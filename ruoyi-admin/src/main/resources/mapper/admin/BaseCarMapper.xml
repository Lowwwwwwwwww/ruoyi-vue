<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.admin.mapper.BaseCarMapper">
    
    <resultMap type="BaseCar" id="BaseCarResult">
        <result property="id"    column="id"    />
        <result property="num"    column="num"    />
        <result property="numColor"    column="num_color"    />
        <result property="numColorName"    column="num_color_name"    />
        <result property="color"    column="color"    />
        <result property="colorName"    column="color_name"    />
        <result property="type"    column="type"    />
        <result property="typeName"    column="type_name"    />
        <result property="brand"    column="brand"    />
        <result property="brandName"    column="brand_name"    />
        <result property="image"    column="image"    />
        <result property="personCode"    column="person_code"    />
        <result property="communityCode"    column="community_code"    />
        <result property="communityName"    column="community_name"    />
        <result property="carGroupDetailId"    column="car_group_detail_id"    />
        <result property="opTime"    column="op_time"    />
        <result property="companyCode"    column="company_code"    />
        <result property="properties"    column="properties"    />
        <result property="carTransport"    column="car_transport"    />
        <result property="carSign"    column="car_sign"    />
        <result property="groupTypeName"    column="group_type_name"    />
        <result property="packageCode"    column="package_code"    />
    </resultMap>

    <sql id="selectBaseCarVo">
        select id, num, num_color, num_color_name, color, color_name, type, type_name, brand, brand_name, image, person_code, community_code, community_name, car_group_detail_id, op_time, company_code, properties, car_transport, car_sign, group_type_name, package_code from base_car
    </sql>

    <sql id="selectBaseCarV">
        select id, num, num_color, num_color_name, color, color_name, type, type_name, brand, brand_name, image, person_code, community_code, community_name, car_group_detail_id, op_time, company_code, properties, car_transport, car_sign, group_type_name, package_code from base_car
        where community_code='07999'
    </sql>


    <select id="selectBaseCarList" parameterType="BaseCar" resultMap="BaseCarResult">
        <include refid="selectBaseCarVo"/>
        <where>  
            <if test="num != null  and num != ''"> and num = #{num}</if>
            <if test="numColor != null "> and num_color = #{numColor}</if>
            <if test="numColorName != null  and numColorName != ''"> and num_color_name like concat('%', #{numColorName}, '%')</if>
            <if test="color != null "> and color = #{color}</if>
            <if test="colorName != null  and colorName != ''"> and color_name like concat('%', #{colorName}, '%')</if>
            <if test="type != null "> and type = #{type}</if>
            <if test="typeName != null  and typeName != ''"> and type_name like concat('%', #{typeName}, '%')</if>
            <if test="brand != null "> and brand = #{brand}</if>
            <if test="brandName != null  and brandName != ''"> and brand_name like concat('%', #{brandName}, '%')</if>
            <if test="image != null  and image != ''"> and image = #{image}</if>
            <if test="personCode != null  and personCode != ''"> and person_code = #{personCode}</if>
            <if test="communityCode != null  and communityCode != ''"> and community_code = #{communityCode}</if>
            <if test="communityName != null  and communityName != ''"> and community_name like concat('%', #{communityName}, '%')</if>
            <if test="carGroupDetailId != null  and carGroupDetailId != ''"> and car_group_detail_id = #{carGroupDetailId}</if>
            <if test="opTime != null "> and op_time = #{opTime}</if>
            <if test="companyCode != null  and companyCode != ''"> and company_code = #{companyCode}</if>
            <if test="properties != null "> and properties = #{properties}</if>
            <if test="carTransport != null  and carTransport != ''"> and car_transport = #{carTransport}</if>
            <if test="carSign != null  and carSign != ''"> and car_sign = #{carSign}</if>
            <if test="groupTypeName != null  and groupTypeName != ''"> and group_type_name like concat('%', #{groupTypeName}, '%')</if>
            <if test="packageCode != null  and packageCode != ''"> and package_code = #{packageCode}</if>
            and community_code='07999'
        </where>
    </select>
    
    <select id="selectBaseCarById" parameterType="Long" resultMap="BaseCarResult">
        <include refid="selectBaseCarVo"/>
        where id = #{id}
    </select>
        
    <insert id="insertBaseCar" parameterType="BaseCar" useGeneratedKeys="true" keyProperty="id">
        insert into base_car
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="num != null">num,</if>
            <if test="numColor != null">num_color,</if>
            <if test="numColorName != null">num_color_name,</if>
            <if test="color != null">color,</if>
            <if test="colorName != null">color_name,</if>
            <if test="type != null">type,</if>
            <if test="typeName != null">type_name,</if>
            <if test="brand != null">brand,</if>
            <if test="brandName != null">brand_name,</if>
            <if test="image != null">image,</if>
            <if test="personCode != null">person_code,</if>
            <if test="communityCode != null">community_code,</if>
            <if test="communityName != null">community_name,</if>
            <if test="carGroupDetailId != null">car_group_detail_id,</if>
            <if test="opTime != null">op_time,</if>
            <if test="companyCode != null">company_code,</if>
            <if test="properties != null">properties,</if>
            <if test="carTransport != null">car_transport,</if>
            <if test="carSign != null">car_sign,</if>
            <if test="groupTypeName != null">group_type_name,</if>
            <if test="packageCode != null">package_code,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="num != null">#{num},</if>
            <if test="numColor != null">#{numColor},</if>
            <if test="numColorName != null">#{numColorName},</if>
            <if test="color != null">#{color},</if>
            <if test="colorName != null">#{colorName},</if>
            <if test="type != null">#{type},</if>
            <if test="typeName != null">#{typeName},</if>
            <if test="brand != null">#{brand},</if>
            <if test="brandName != null">#{brandName},</if>
            <if test="image != null">#{image},</if>
            <if test="personCode != null">#{personCode},</if>
            <if test="communityCode != null">#{communityCode},</if>
            <if test="communityName != null">#{communityName},</if>
            <if test="carGroupDetailId != null">#{carGroupDetailId},</if>
            <if test="opTime != null">#{opTime},</if>
            <if test="companyCode != null">#{companyCode},</if>
            <if test="properties != null">#{properties},</if>
            <if test="carTransport != null">#{carTransport},</if>
            <if test="carSign != null">#{carSign},</if>
            <if test="groupTypeName != null">#{groupTypeName},</if>
            <if test="packageCode != null">#{packageCode},</if>
         </trim>
    </insert>

    <update id="updateBaseCar" parameterType="BaseCar">
        update base_car
        <trim prefix="SET" suffixOverrides=",">
            <if test="num != null">num = #{num},</if>
            <if test="numColor != null">num_color = #{numColor},</if>
            <if test="numColorName != null">num_color_name = #{numColorName},</if>
            <if test="color != null">color = #{color},</if>
            <if test="colorName != null">color_name = #{colorName},</if>
            <if test="type != null">type = #{type},</if>
            <if test="typeName != null">type_name = #{typeName},</if>
            <if test="brand != null">brand = #{brand},</if>
            <if test="brandName != null">brand_name = #{brandName},</if>
            <if test="image != null">image = #{image},</if>
            <if test="personCode != null">person_code = #{personCode},</if>
            <if test="communityCode != null">community_code = #{communityCode},</if>
            <if test="communityName != null">community_name = #{communityName},</if>
            <if test="carGroupDetailId != null">car_group_detail_id = #{carGroupDetailId},</if>
            <if test="opTime != null">op_time = #{opTime},</if>
            <if test="companyCode != null">company_code = #{companyCode},</if>
            <if test="properties != null">properties = #{properties},</if>
            <if test="carTransport != null">car_transport = #{carTransport},</if>
            <if test="carSign != null">car_sign = #{carSign},</if>
            <if test="groupTypeName != null">group_type_name = #{groupTypeName},</if>
            <if test="packageCode != null">package_code = #{packageCode},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deleteBaseCarById" parameterType="Long">
        delete from base_car where id = #{id}
    </delete>

    <delete id="deleteBaseCarByIds" parameterType="String">
        delete from base_car where id in 
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
</mapper>